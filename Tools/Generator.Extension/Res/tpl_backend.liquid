// Code generated by GoPlay Protocol Extension Generator. DO NOT EDIT.
{%- for ns in namespaces %}
using {{ns}};
{%- endfor %}

namespace GoPlay.Services.Extension.Backend
{
    public static class ProtocolConsts
    {
        //Protocols
        {%- for item in data %}
        public const string {{item.method}} = "{{item.route}}";
        {%- endfor %}
        
        //Pushes
        {%- for item in pushes %}
        public const string Push_{{item.name}} = "{{item.route}}";
        {%- endfor %}
    }

    public static class ClientExtensions
    {
        {% for item in data %}
            {%- assign return = "" -%}
            {%- assign return_type = "void" -%}
            {%- assign return_generic_param = "Status" -%}
            {%- capture generic_param -%}{{item.return_type}}{%- endcapture -%}
            {%- assign method_params = "" -%}
            {%- assign method = "Notify" -%}
            {%- assign call_params = "" -%}
            {%- if item.return_type != "Status" -%}
                {%- capture return_generic_param -%}(Status, {{item.return_type}}){%- endcapture -%}
            {%- endif -%}
            {%- if item.param_type != null and item.param_type != "" -%} 
                {%- capture method_params -%}, {{item.param_type}} arg{% endcapture %} 
                {%- capture call_params -%}, arg{% endcapture %} 
                {%- if item.return_type != "Status" -%} 
                    {%- capture generic_param -%}{{item.param_type}}, {{item.return_type}}{% endcapture %} 
                {%- else -%} 
                    {%- capture generic_param -%}{{item.param_type}}{% endcapture %} 
                {%- endif -%} 
            {%- endif -%}
            {%- if item.return_type != "void" -%} 
                {%- capture return_type -%}Task<{{return_generic_param}}>{%- endcapture %} 
                {%- capture method -%}Request<{{generic_param}}>{%- endcapture %} 
                {%- assign return = "return " -%} 
            {%- endif -%}
        public static {{return_type}} {{item.method}}(this Client cli{{method_params}})
        {
            {{return}}cli.{{method}}(ProtocolConsts.{{item.method}}{{call_params}});
        }

        {% endfor %}
    }
}